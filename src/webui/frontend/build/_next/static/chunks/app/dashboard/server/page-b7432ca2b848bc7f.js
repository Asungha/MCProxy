(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{8639:function(e,s,n){Promise.resolve().then(n.bind(n,5201))},5201:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return L}});var t=n(7437),r=n(2265),o=n(6718),i=n(895),l=n(8087),a=n(3151),c=n(5092),d=n(9418),h=n(2961),x=n(75);function j(){return(0,t.jsx)(c.Z,{sx:{p:2},children:(0,t.jsx)(h.Z,{defaultValue:"",fullWidth:!0,placeholder:"Search server IP",startAdornment:(0,t.jsx)(d.Z,{position:"start",children:(0,t.jsx)(x.Y,{fontSize:"var(--icon-fontSize-md)"})}),sx:{maxWidth:"500px"}})})}var u=n(304),p=n(8563),g=n(8129),Z=n(6520),f=n(360),m=n(3407),v=n(412),k=n(8840),w=n(5167),S=n(4355),b=n(6650),y=n(6200),C=n(9906),P=n(3206),z="";fetch("/api.json").then(e=>e.json()).then(e=>{z=e.api_address});let E=e=>{let{onClick:s,index:n}=e;return(0,t.jsx)(P.Z,{onClick:()=>{s(n)},children:(0,t.jsx)(b.G,{})})},N=e=>{let{onClick:s,index:n}=e;return(0,t.jsx)(P.Z,{onClick:()=>{s(n)},children:(0,t.jsx)(y.B,{})})},W=e=>{let{onDeleted:s,deleted:n,index:o,serverList:i}=e,[l,a]=r.useState(-1);return r.useEffect(()=>{(async()=>{try{let e=await fetch("http://".concat(z,"/console/server-list"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i[l].id})});if(!e.ok)throw Error("Network response was not ok");let s=await e.json();console.log("Success:",s)}catch(e){console.error("Error:",e)}s(!n)})()},[l]),(0,t.jsx)(P.Z,{onClick:()=>{a(o)},children:(0,t.jsx)(C.r,{})})};function O(){}function _(e){var s,n;let{count:o=0,rows:i=[],page:l=0,rowsPerPage:a=0,deleted:d,editSelect:h,statSelect:x,onDeleted:j}=e,b=r.useMemo(()=>i.map(e=>e.id),[i]),{selectAll:y,deselectAll:C,selectOne:P,deselectOne:z,selected:_}=(0,S.c)(b),A=(null!==(s=null==_?void 0:_.size)&&void 0!==s?s:0)>0&&(null!==(n=null==_?void 0:_.size)&&void 0!==n?n:0)<i.length,D=i.length>0&&(null==_?void 0:_.size)===i.length;return(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(u.Z,{sx:{overflowX:"auto"},children:(0,t.jsxs)(Z.Z,{sx:{minWidth:"800px"},children:[(0,t.jsx)(v.Z,{children:(0,t.jsxs)(w.Z,{children:[(0,t.jsx)(m.Z,{padding:"checkbox",children:(0,t.jsx)(p.Z,{checked:D,indeterminate:A,onChange:e=>{e.target.checked?y():C()}})}),(0,t.jsx)(m.Z,{children:"Hostname"}),(0,t.jsx)(m.Z,{children:"IP"}),(0,t.jsx)(m.Z,{padding:"checkbox"})]})}),(0,t.jsx)(f.Z,{children:i.map((e,s)=>{let n=null==_?void 0:_.has(s);return(0,t.jsxs)(w.Z,{hover:!0,selected:n,children:[(0,t.jsx)(m.Z,{padding:"checkbox",children:(0,t.jsx)(p.Z,{checked:n,onChange:e=>{e.target.checked?P(s):z(s)}})}),(0,t.jsx)(m.Z,{children:e.hostname}),(0,t.jsx)(m.Z,{children:e.address}),(0,t.jsxs)(m.Z,{sx:{display:"flex"},children:[(0,t.jsx)(E,{index:s,onClick:e=>{console.log(e),h(e)}}),(0,t.jsx)(N,{index:s,onClick:e=>{console.log(e),x(e)}}),(0,t.jsx)(W,{serverList:i,index:s,deleted:d,onDeleted:e=>{console.log(e),j(e)}})]})]},s)})})]})}),(0,t.jsx)(g.Z,{}),(0,t.jsx)(k.Z,{component:"div",count:o,onPageChange:O,onRowsPerPageChange:O,page:l,rowsPerPage:a,rowsPerPageOptions:[5,10,25]})]})}var A=n(8682),D=n(1988),I=n(838),T=n(248),H="";fetch("/api.json").then(e=>e.json()).then(e=>{H=e.api_address}),T.z.object({hostname:T.z.string().min(1,{message:"Hostname is required"}),Address:T.z.string().min(1,{message:"Password is required"}).ip()});let q=e=>{let{id:s,serverList:n,open:o,setID:i,header:a}=e,c=n[s];if(console.log(n,s,c),!c)return console.log("Null target"),(0,t.jsx)(t.Fragment,{});console.log("not Null target");let[d,x]=r.useState(c);console.log(d);let j=e=>{let{name:s,value:n}=e.target;x(e=>({...e,[s]:n}))},p=async e=>{e.preventDefault(),console.log(d);try{let e=await fetch("http://".concat(H,"/console/server-list"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!e.ok)throw Error("Network response was not ok");let s=await e.json();console.log("Success:",s)}catch(e){console.error("Error:",e)}i(-1)};return(0,t.jsxs)(u.Z,{sx:{transition:"opacity 0.3s ease-in-out"},children:[(0,t.jsx)(u.Z,{className:"overlay",onClick:()=>{i(-1)},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",zIndex:999}}),(0,t.jsxs)(A.ZP,{open:o,style:{position:"absolute",left:"58%",top:"50%",transform:"translate(-50%, -50%)"},children:[(0,t.jsx)(P.Z,{onClick:()=>{i(-1)},sx:{float:"right"},children:(0,t.jsx)(D.X,{})}),(0,t.jsx)(l.Z,{variant:"h6",sx:{padding:"15px 15px 15px 15px"},children:a}),(0,t.jsx)("form",{onSubmit:p,children:(0,t.jsxs)(Z.Z,{children:[(0,t.jsx)(v.Z,{children:(0,t.jsxs)(w.Z,{children:[(0,t.jsx)(m.Z,{children:"Hostname"}),(0,t.jsx)(m.Z,{children:"Address"}),(0,t.jsx)(m.Z,{padding:"checkbox"})]})}),(0,t.jsx)(f.Z,{children:(0,t.jsxs)(w.Z,{children:[(0,t.jsx)(m.Z,{children:(0,t.jsx)(h.Z,{defaultValue:c.hostname,fullWidth:!0,sx:{maxWidth:"500px"},onChange:j,name:"hostname"})}),(0,t.jsx)(m.Z,{children:(0,t.jsx)(h.Z,{defaultValue:c.address,fullWidth:!0,sx:{maxWidth:"500px"},onChange:j,name:"address"})}),(0,t.jsx)(m.Z,{children:(0,t.jsx)(P.Z,{type:"submit",children:(0,t.jsx)(I.B,{})})})]})})]})})]})]})};var B="";fetch("/api.json").then(e=>e.json()).then(e=>{B=e.api_address}),T.z.object({hostname:T.z.string().min(1,{message:"Hostname is required"}),Address:T.z.string().min(1,{message:"Password is required"}).ip()});let F=e=>{let{open:s,setOpen:n}=e;if(!s)return(0,t.jsx)(t.Fragment,{});let[o,i]=r.useState({id:-1,address:"",hostname:""});console.log(o);let a=e=>{let{name:s,value:n}=e.target;i(e=>({...e,[s]:n}))},c=async e=>{e.preventDefault(),console.log(o);try{let e=await fetch("http://".concat(B,"/console/server-list"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!e.ok)throw Error("Network response was not ok");let s=await e.json();console.log("Success:",s)}catch(e){console.error("Error:",e)}n(!1)};return(0,t.jsxs)(u.Z,{sx:{transition:"opacity 0.3s ease-in-out"},children:[(0,t.jsx)(u.Z,{className:"overlay",onClick:()=>{n(!1)},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",zIndex:999}}),(0,t.jsxs)(A.ZP,{open:s,style:{position:"absolute",left:"58%",top:"50%",transform:"translate(-50%, -50%)"},children:[(0,t.jsx)(P.Z,{onClick:()=>{n(!1)},sx:{float:"right"},children:(0,t.jsx)(D.X,{})}),(0,t.jsx)(l.Z,{variant:"h6",sx:{padding:"15px 15px 15px 15px"},children:"Add new server"}),(0,t.jsx)("form",{onSubmit:c,children:(0,t.jsxs)(Z.Z,{children:[(0,t.jsx)(v.Z,{children:(0,t.jsxs)(w.Z,{children:[(0,t.jsx)(m.Z,{children:"Hostname"}),(0,t.jsx)(m.Z,{children:"Address"}),(0,t.jsx)(m.Z,{padding:"checkbox"})]})}),(0,t.jsx)(f.Z,{children:(0,t.jsxs)(w.Z,{children:[(0,t.jsx)(m.Z,{children:(0,t.jsx)(h.Z,{fullWidth:!0,sx:{maxWidth:"500px"},onChange:a,name:"hostname"})}),(0,t.jsx)(m.Z,{children:(0,t.jsx)(h.Z,{fullWidth:!0,sx:{maxWidth:"500px"},onChange:a,name:"address"})}),(0,t.jsx)(m.Z,{children:(0,t.jsx)(P.Z,{type:"submit",children:(0,t.jsx)(I.B,{})})})]})})]})})]})]})};var J="";function L(){let[e,s]=(0,r.useState)([]),n=e.slice(0,50),[c,d]=r.useState(-1),[h,x]=r.useState(!1),[u,p]=r.useState(!0),[g,Z]=r.useState(-1);return(0,r.useEffect)(()=>{(async()=>{let e=await fetch("http://".concat(J,"/console/server-list"));s(await e.json())})()},[c,h,u]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(q,{header:"Edit server",id:c,serverList:e,open:-1!=c,setID:d}),(0,t.jsx)(F,{open:h,setOpen:x}),(0,t.jsxs)(i.Z,{spacing:3,children:[(0,t.jsxs)(i.Z,{direction:"row",spacing:3,children:[(0,t.jsx)(i.Z,{spacing:1,sx:{flex:"1 1 auto"},children:(0,t.jsx)(l.Z,{variant:"h4",children:"Game Server"})}),(0,t.jsx)("div",{children:(0,t.jsx)(o.Z,{startIcon:(0,t.jsx)(a.v,{fontSize:"var(--icon-fontSize-md)"}),variant:"contained",onClick:()=>{x(!h)},children:"Add"})})]}),(0,t.jsx)(j,{}),(0,t.jsx)(_,{editSelect:d,statSelect:Z,onDeleted:p,deleted:u,count:n.length,page:0,rows:n,rowsPerPage:50})]})]})}fetch("/api.json").then(e=>e.json()).then(e=>{J=e.api_address})},4355:function(e,s,n){"use strict";n.d(s,{c:function(){return r}});var t=n(2265);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[s,n]=t.useState(new Set);t.useEffect(()=>{n(new Set)},[e]);let r=t.useCallback(()=>{n(new Set)},[]),o=t.useCallback(e=>{n(s=>{let n=new Set(s);return n.delete(e),n})},[]),i=t.useCallback(()=>{n(new Set(e))},[e]),l=t.useCallback(e=>{n(s=>{let n=new Set(s);return n.add(e),n})},[]),a=s.size>0,c=s.size===e.length;return{deselectAll:r,deselectOne:o,selectAll:i,selectOne:l,selected:s,selectedAny:a,selectedAll:c}}}},function(e){e.O(0,[626,17,686,961,956,775,563,669,106,469,499,971,69,744],function(){return e(e.s=8639)}),_N_E=e.O()}]);